{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["const feedbackForm = document.querySelector(\".feedback-form\");\nlet formData = {\n    email: \"\",\n    message: \"\"\n};\n\n\n\nconst formDataKey = \"feedback-form-state\";\nconst load = (key) => {\n    try {\n        const localFormData = localStorage.getItem(key);\n        if (localFormData !== null)\n        {\n            formData = JSON.parse(localFormData);\n            Object.keys(formData).forEach(k => {\n                feedbackForm.elements[k].value = formData[k];\n            });\n        }\n    }\n    catch (err) {\n        console.log(err);\n    }\n};\n\nload(formDataKey);\n\nconst save = (key, data) => {\n    try {\n        localStorage.setItem(key, JSON.stringify(data));\n    }\n    catch (err) {\n        console.log(err);\n    }\n};\n\nconst formInputHandler = (event) => {\n    Object.keys(formData).forEach(k => {\n        formData[k] = event.currentTarget.elements[k].value.trim();\n    });\n    save(formDataKey, formData);\n};\n\nconst formSubmitHandler = (event) => {\n    event.preventDefault();\n    const { email, message } = formData;\n    if (email == \"\" || message == \"\")\n    {\n        alert(\"Fill please all fields\");\n        return;\n    }\n    console.log(formData);\n    localStorage.removeItem(formDataKey);\n    formData = {\n        email: \"\",\n        message: \"\"\n    };\n    feedbackForm.reset();\n};\n\nfeedbackForm.addEventListener(\"input\", formInputHandler);\nfeedbackForm.addEventListener(\"submit\", formSubmitHandler);"],"names":["feedbackForm","formData","formDataKey","load","key","localFormData","k","err","save","data","formInputHandler","event","formSubmitHandler","email","message"],"mappings":"wFAAA,MAAMA,EAAe,SAAS,cAAc,gBAAgB,EAC5D,IAAIC,EAAW,CACX,MAAO,GACP,QAAS,EACb,EAIA,MAAMC,EAAc,sBACdC,EAAQC,GAAQ,CAClB,GAAI,CACA,MAAMC,EAAgB,aAAa,QAAQD,CAAG,EAC1CC,IAAkB,OAElBJ,EAAW,KAAK,MAAMI,CAAa,EACnC,OAAO,KAAKJ,CAAQ,EAAE,QAAQK,GAAK,CAC/BN,EAAa,SAASM,CAAC,EAAE,MAAQL,EAASK,CAAC,CAC3D,CAAa,EAER,OACMC,EAAK,CACR,QAAQ,IAAIA,CAAG,CAClB,CACL,EAEAJ,EAAKD,CAAW,EAEhB,MAAMM,EAAO,CAACJ,EAAKK,IAAS,CACxB,GAAI,CACA,aAAa,QAAQL,EAAK,KAAK,UAAUK,CAAI,CAAC,CACjD,OACMF,EAAK,CACR,QAAQ,IAAIA,CAAG,CAClB,CACL,EAEMG,EAAoBC,GAAU,CAChC,OAAO,KAAKV,CAAQ,EAAE,QAAQK,GAAK,CAC/BL,EAASK,CAAC,EAAIK,EAAM,cAAc,SAASL,CAAC,EAAE,MAAM,MAC5D,CAAK,EACDE,EAAKN,EAAaD,CAAQ,CAC9B,EAEMW,EAAqBD,GAAU,CACjCA,EAAM,eAAc,EACpB,KAAM,CAAE,MAAAE,EAAO,QAAAC,CAAS,EAAGb,EAC3B,GAAIY,GAAS,IAAMC,GAAW,GAC9B,CACI,MAAM,wBAAwB,EAC9B,MACH,CACD,QAAQ,IAAIb,CAAQ,EACpB,aAAa,WAAWC,CAAW,EACnCD,EAAW,CACP,MAAO,GACP,QAAS,EACjB,EACID,EAAa,MAAK,CACtB,EAEAA,EAAa,iBAAiB,QAASU,CAAgB,EACvDV,EAAa,iBAAiB,SAAUY,CAAiB"}